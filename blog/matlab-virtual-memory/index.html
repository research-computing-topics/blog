
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Memory Consumption of Matlab Graphical User Interface on Hoffman2 Cluster &#8212; Research Computing Topics  documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="author" title="About these documents" href="../../about/" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
  
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="virtual-memory-consumption-of-matlab-graphical-user-interface-on-hoffman2-cluster">
<h1>Virtual Memory Consumption of Matlab Graphical User Interface on Hoffman2 Cluster<a class="headerlink" href="#virtual-memory-consumption-of-matlab-graphical-user-interface-on-hoffman2-cluster" title="Permalink to this headline">¶</a></h1>
<p>In this technical note, We report the <a class="reference external" href="https://en.wikipedia.org/wiki/Virtual_memory">virtual memory</a> consumption when launching the
MATLAB’s graphical user interface (GUI) and text user interfaces (TUI),
respectively, on Hoffman2 Cluster.  Currently, Hoffman2 cluster’s job scheduler
enforces the virtual memory limit on jobs based on the value of the job
parameter <code class="docutils literal notranslate"><span class="pre">h_data</span></code>.  It is important to set <code class="docutils literal notranslate"><span class="pre">h_data</span></code> large enough before
launching a Matlab job.  When the virtual memory use exceeds the specified
value, the job is terminated instantly.  On the other hand, if <code class="docutils literal notranslate"><span class="pre">h_data</span></code> is
excessively large, it may be difficult for the scheduler to allocate the
required computing resources, resulting in long (or infinite) wait time.  The
results, reported below, will show that launching the graphical user interface
consumes significant more virtual memory than the text user interface.  From
the standpoint of conserving virtual memory use, the text-based user interface
should be considered, if possible.  All benchmarks reported below refers to
launching only the Matlab interface <em>without loading any user data</em>.  At the time
of this writing, there are multiple MATLAB versions available on Hoffman2
cluster. We focus on Matlab versions 8.6 (R2015b) and 9.7 (R2019b).</p>
</div>
<div class="section" id="benchmark-details">
<h1>Benchmark details<a class="headerlink" href="#benchmark-details" title="Permalink to this headline">¶</a></h1>
<p>The benchmarks of virtual memory consumption of launching the MATLAB user
interfaces were performed on selected CPU models.  Both the text-based and the
graphical user interfaces were tested.  The desired versions of Matlab were
loaded into the environment using the module commands.  The virtual memroy
consumption readings were from the <code class="docutils literal notranslate"><span class="pre">top</span></code> command.</p>
<p>To load Matlab 8.6, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load matlab/8.6
$ which matlab
/u/local/apps/matlab/8.6/bin/matlab
</pre></div>
</div>
<p>To load Matlab 9.7, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load matlab/9.7
$ which matlab
/u/local/apps/matlab/9.7/bin/matlab
</pre></div>
</div>
<p>To launch the Matlab graphical user interface, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ matlab
</pre></div>
</div>
<p>To launch the Matlab text user interface, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ matlab -nojvm -nodisplay -nosplash
</pre></div>
</div>
<p>We note that the <code class="docutils literal notranslate"><span class="pre">-nojvm</span></code> option is key to significantly different virtual
memory consumption between Matlab GUI and TUI.</p>
</div>
<div class="section" id="results">
<h1>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h1>
<p>The “virtual memroy” column shows the virtual memory consumption for launching the Matlab (without user data).</p>
<a class="reference internal image-reference" href="../../_images/gui.png"><img alt="virtual memory consumption of Matlab GUI" src="../../_images/gui.png" style="width: 600px;" /></a>
<a class="reference internal image-reference" href="../../_images/tui.png"><img alt="virtual memory consumption of Matlab TUI" src="../../_images/tui.png" style="width: 600px;" /></a>
<p>Data used in the plots:
(1) <a class="reference download internal" download="" href="../../_downloads/10b626ad3d4c6020f24939982e1e6b4c/gui.txt"><code class="xref download docutils literal notranslate"><span class="pre">GUI</span></code></a>
(2) <a class="reference download internal" download="" href="../../_downloads/78284f79a4041ab4d259faa12c1a75bd/tui.txt"><code class="xref download docutils literal notranslate"><span class="pre">TUI</span></code></a></p>
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Matlab TUI consumes significantly less virtual memory than its GUI.</p></li>
<li><p>Different Matlab versions consume significantly different amount of virtual memory.</p></li>
<li><p>Matlab consumes significant different amounts of virtual memory on different CPU models.</p></li>
<li><p>Matlab 9.7 GUI consumes significantly more virtual memory than Matlab 8.6 GUI.</p></li>
</ul>
</div>
<div class="section" id="acknowledgement">
<h1>Acknowledgement<a class="headerlink" href="#acknowledgement" title="Permalink to this headline">¶</a></h1>
<p>The authors thank Dr. Q. Hu for his helpful comments on an earlier draft of this report.</p>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  Previous: 
  <a href="../../julia-avx512/">
    
    Julia AVX512 Issue and Workaround
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
  Next: 
  <a href="../rstudio-virtual-memory/">
    Virtual Memory Size of Launching RStudio on Hoffman2 Cluster
    
  </a>
  
  </span>
</div>

  
  
  </div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../">Research Computing Topics</a></h1>









  
  
  <h2>
  
  
    2020-06-08
  
  </h2>

  <ul>
    

  
  <li id="author"><span>Author:</span>
    
      
      <a href="../author/jerry-huang-and-shao-ching-huang/">Jerry Huang and Shao-Ching Huang</a>
      
    </li>
  

  

  

  

  
  <li id="tags"><span>Tag:</span>
    
      
      <a href="../tag/matlab/">matlab</a>
      
    </li>
  
  
  </ul>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/">About the group</a></li>
</ul>


  <h3><a href="../">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../rstudio-virtual-memory/">11 June - Virtual Memory Size of Launching RStudio on Hoffman2 Cluster</a></li>
    
      <li><a href="../julia-avx512/">08 June - Julia AVX512 Issue and Workaround</a></li>
    
      <li><a href="../../julia-avx512/">08 June - Julia AVX512 Issue and Workaround</a></li>
    
      <li><a href="../gcc-9-building/">20 May - Building GCC Compilers on an HPC Cluster</a></li>
    
      <li><a href="../post-test/">11 May - Welcome!</a></li>
    
  </ul>

  <h3><a href="../tag/">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../tag/blog/">blog</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../tag/gcc/">gcc</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../tag/gnu/">gnu</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../tag/matlab/">matlab</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../tag/rstudio/">rstudio</a></li>
      
    
  </ul>

  <h3><a href="../archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../2020/">2020 (6)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, HPC Research Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/blog/matlab-virtual-memory.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>